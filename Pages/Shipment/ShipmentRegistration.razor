@page "/shipment/registration"

<h3>Shipment registration</h3>

@code {

    [Inject]
    public IShipmentRepository ShipmentRepository { get; set; }

    [Inject]
    public IPostMachineRepository PostMachineRepository { get; set; }

    public IEnumerable<PostMachine> PostMachines { get; set; }
    public Shipment Shipment { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Shipment = new Shipment();
        await RetrievePostMachines();
    }

    public async Task RetrievePostMachines()
    {
        PostMachines = PostMachineRepository.PostMachines;
    }

    public async void CreateShipment()
    {
        await ShipmentRepository.CreateAsync(Shipment);
    }

}